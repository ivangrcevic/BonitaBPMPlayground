{"designerVersion":"1.4.26","id":"pbDatePicker","name":"Date Picker","lastUpdate":1484415936883,"template":"<div ng-class=\"{\n    'form-horizontal': properties.labelPosition === 'left' && !properties.labelHidden,\n    'row': properties.labelPosition === 'top' && !properties.labelHidden || properties.labelHidden\n    }\">\n    <div class=\"form-group\">\n        <label\n            ng-if=\"!properties.labelHidden\"\n            ng-class=\"{ 'control-label--required': properties.required }\"\n            class=\"control-label col-xs-{{ !properties.labelHidden && properties.labelPosition === 'left' ? properties.labelWidth : 12 }}\">\n            {{ properties.label | uiTranslate }}\n        </label>\n\n        <div\n            class=\"col-xs-{{ 12 - (!properties.labelHidden && properties.labelPosition === 'left' ? properties.labelWidth : 0) }}\">\n            <p class=\"input-group\">\n                <input class=\"form-control\"\n                       name=\"{{ctrl.name}}\"\n                       type=\"text\"\n                       placeholder=\"{{ properties.placeholder | uiTranslate }}\"\n                       ng-model=\"properties.value\"\n                       ng-readonly=\"properties.readOnly\"\n                       ng-required=\"properties.required\"\n                       bs-datepicker\n                       data-container=\"body\"\n                       data-autoclose=\"1\"\n                       data-timezone=\"UTC\"\n                       date-format=\"{{properties.dateFormat | uiTranslate}}\"\n                       data-trigger=\"focus\"\n                       data-start-week=\"{{ctrl.firstDayOfWeek}}\"\n                       ng-model-options=\"{ debounce: 350 }\">\n\n                <span class=\"input-group-btn\">\n                    <button ng-if=\"properties.showToday\" type=\"button\" class=\"btn btn-default today\"\n                            ng-click=\"ctrl.setDateToToday()\"\n                            ng-disabled=\"properties.readOnly\" ui-translate>\n                           Today \n                    </button>\n                    <button type=\"button\" class=\"btn btn-default calendar\"\n                            ng-click=\"ctrl.open()\"\n                            ng-disabled=\"properties.readOnly\">\n                        <i class=\"glyphicon glyphicon-calendar\"></i>\n                    </button>\n                </span>\n            </p>\n            <div ng-messages=\"$form[ctrl.name].$dirty && $form[ctrl.name].$error \"\n                 ng-messages-include=\"forms-generic-errors.html\" role=\"alert\"></div>\n        </div>\n    </div>\n</div>\n","icon":"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 20'><path fill='#fff' d='M0 0v20h50V0H0zm49 19H1V1h48v18z'/><path fill='#CBD5E1' d='M32 6v2h-3V6h-1v2h-3V6h-1v2h-3V6h-1v2h-3v1h3v2h-3v1h3v2h-3v1h3v2h1v-2h3v2h1v-2h3v2h1v-2h3v2h1V6h-1zm-4 3v2h-3V9h3zm-7 0h3v2h-3V9zm0 5v-2h3v2h-3zm4 0v-2h3v2h-3zm7 0h-3v-2h3v2zm0-3h-3V9h3v2z'/><path fill='#fff' d='M21 9h3v2h-3z'/><path fill='#fff' d='M31 4V2h-2v2h-8V2h-2v2h-3v14h18V4h-3zm2 13H17V6h16v11z'/></svg>","controller":"function PbDatePickerCtrl($scope, $log, widgetNameFactory, $element, $locale, $bsDatepicker) {\n\n  'use strict';\n\n  this.name = widgetNameFactory.getName('pbDatepicker');\n  this.firstDayOfWeek = ($locale && $locale.DATETIME_FORMATS && $locale.DATETIME_FORMATS.FIRSTDAYOFWEEK) || 0;\n\n  $bsDatepicker.defaults.keyboard = false;\n\n  this.setDateToToday = function() {\n    var today = new Date();\n    if(today.getDay() !== today.getUTCDay()){\n      //we need to add this offset for the displayed date to be correct\n      if(today.getTimezoneOffset() > 0){\n        today.setTime(today.getTime() - 1440 * 60 * 1000);\n      } else if(today.getTimezoneOffset() < 0){\n        today.setTime(today.getTime() + 1440 * 60 * 1000);\n      }\n    }\n    today.setUTCHours(0);\n    today.setUTCMinutes(0);\n    today.setUTCSeconds(0);\n    today.setUTCMilliseconds(0);\n    $scope.properties.value = today; \n  };\n\n  this.open = function () {\n    $element.find('input')[0].focus();\n  };\n\n  if (!$scope.properties.isBound('value')) {\n    $log.error('the pbDatepicker property named \"value\" need to be bound to a variable');\n  }\n\n\n}\n","description":"Calendar for selecting a date","custom":false,"order":9,"properties":[{"label":"Read-only","name":"readOnly","type":"boolean","defaultValue":false,"bond":"expression"},{"label":"Required","name":"required","help":"In the context of a form container, use $form.$invalid as a Boolean to check form validity in a widget property","type":"boolean","defaultValue":false,"bond":"expression"},{"label":"Label hidden","name":"labelHidden","type":"boolean","defaultValue":false,"bond":"constant"},{"label":"Label","name":"label","showFor":"properties.labelHidden.value === false","type":"text","defaultValue":"Date","bond":"interpolation"},{"label":"Label position","name":"labelPosition","showFor":"properties.labelHidden.value === false","type":"choice","defaultValue":"top","choiceValues":["left","top"],"bond":"constant"},{"label":"Label width","name":"labelWidth","showFor":"properties.labelHidden.value === false","type":"integer","defaultValue":4,"bond":"constant","constraints":{"min":"1","max":"12"}},{"label":"Placeholder","name":"placeholder","caption":"Date format in the expected language, synchronized with the Date format property","help":"Short hint that describes the expected input format","type":"text","defaultValue":"Enter a date (mm/dd/yyyy)","bond":"interpolation"},{"label":"Value","name":"value","caption":"Date or <a href='https://en.wikipedia.org/wiki/ISO_8601' target='_blank'>ISO 8601</a> formatted String variable","help":"A date, at midnight UTC","type":"text","bond":"variable"},{"label":"Date format","name":"dateFormat","caption":"M: month, d: day, y: year","help":"Specify the expected technical format","type":"text","defaultValue":"MM/dd/yyyy","bond":"expression"},{"label":"Show today button","name":"showToday","help":"Display or hide the shortcut button to current day","type":"boolean","defaultValue":false,"bond":"constant"}],"assets":[{"name":"angular-strap-2.3.9-patched.compat.min.js","type":"js","order":1,"external":false},{"name":"angular-strap-2.3.9-patched.tpl.min.js","type":"js","order":2,"external":false}],"requiredModules":["mgcrea.ngStrap.datepicker"],"type":"widget"}